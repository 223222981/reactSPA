{"version":3,"sources":["common/pages/editor/index.js","webpack:///./src/common/pages/editor/index.less?24fb","common/pages/editor/index.less"],"names":["_react","__webpack_require__","_reactDraftWysiwyg","rawContentState","entityMap","0","type","mutability","data","src","height","width","blocks","key","text","depth","inlineStyleRanges","entityRanges","offset","length","wysiwyg","state","editorContent","undefined","contentState","editorState","onEditorChange","_this","setState","clearContent","onContentStateChange","console","log","onEditorStateChange","imageUploadCallBack","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","FormData","append","send","addEventListener","response","JSON","parse","responseText","error","_state","this","_react2","default","createElement","_row2","gutter","_col2","span","className","_card2","title","bordered","Editor","toolbarClassName","wrapperClassName","editorClassName","toolbar","history","inDropdown","list","textAlign","image","uploadCallback","placeholder","spellCheck","onFocus","onBlur","onTab","localization","locale","translations","generic.add","mention","separator","trigger","caseSensitive","suggestions","value","url","_draftjsToHtml2","style","whiteSpace","_draftjsToMarkdown2","stringify","content","module","i","options","transform","locals","exports","push"],"mappings":"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","file":"static/js/9.a4a3296a.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Row, Col, Card } from 'antd'\nimport { Editor } from 'react-draft-wysiwyg'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport draftToHtml from 'draftjs-to-html'\nimport draftToMarkdown from 'draftjs-to-markdown'\nimport './index.less'\n\nconst rawContentState = { \"entityMap\": { \"0\": { \"type\": \"IMAGE\", \"mutability\": \"MUTABLE\", \"data\": { \"src\": \"http://i.imgur.com/aMtBIep.png\", \"height\": \"auto\", \"width\": \"100%\" } } }, \"blocks\": [{ \"key\": \"9unl6\", \"text\": \"\", \"type\": \"unstyled\", \"depth\": 0, \"inlineStyleRanges\": [], \"entityRanges\": [], \"data\": {} }, { \"key\": \"95kn\", \"text\": \" \", \"type\": \"atomic\", \"depth\": 0, \"inlineStyleRanges\": [], \"entityRanges\": [{ \"offset\": 0, \"length\": 1, \"key\": 0 }], \"data\": {} }, { \"key\": \"7rjes\", \"text\": \"\", \"type\": \"unstyled\", \"depth\": 0, \"inlineStyleRanges\": [], \"entityRanges\": [], \"data\": {} }] }\n\nexport default class wysiwyg extends Component {\n  state = {\n    editorContent: undefined,\n    contentState: rawContentState,\n    editorState: '',\n  }\n\n  onEditorChange = (editorContent) => {\n    this.setState({\n      editorContent,\n    })\n  }\n\n  clearContent = () => {\n    this.setState({\n      contentState: '',\n    })\n  }\n\n  onContentStateChange = (contentState) => {\n    console.log('contentState', contentState)\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorState,\n    })\n  }\n\n  imageUploadCallBack = file => new Promise(\n    (resolve, reject) => {\n      const xhr = new XMLHttpRequest()\n      xhr.open('POST', 'https://api.imgur.com/3/image')\n      xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca')\n      const data = new FormData()\n      data.append('image', file)\n      xhr.send(data)\n      xhr.addEventListener('load', () => {\n        const response = JSON.parse(xhr.responseText)\n        resolve(response)\n      })\n      xhr.addEventListener('error', () => {\n        const error = JSON.parse(xhr.responseText)\n        reject(error)\n      })\n    }\n  )\n\n  render() {\n    const { editorContent, editorState } = this.state\n    return (\n      <div>\n        <Row gutter={16}>\n          <Col span={24}>\n            <div className=\"cloud-box\">\n              <Card title=\"富文本编辑器\" bordered={true} >\n                <Editor\n                  editorState={editorState}\n                  toolbarClassName=\"home-toolbar\"\n                  wrapperClassName=\"home-wrapper\"\n                  editorClassName=\"home-editor\"\n                  onEditorStateChange={this.onEditorStateChange}\n                  toolbar={{\n                    history: { inDropdown: true },\n                    list: { inDropdown: true },\n                    textAlign: { inDropdown: true },\n                    image: { uploadCallback: this.imageUploadCallBack },\n                  }}\n                  onContentStateChange={this.onEditorChange}\n                  placeholder=\"尝试输入 @ 哦，有惊喜\"\n                  spellCheck\n                  onFocus={() => { console.log('focus') }}\n                  onBlur={() => { console.log('blur') }}\n                  onTab={() => { console.log('tab'); return true }}\n                  localization={{ locale: 'zh', translations: { 'generic.add': 'Add' } }}\n                  mention={{\n                    separator: ' ',\n                    trigger: '@',\n                    caseSensitive: true,\n                    suggestions: [\n                      { text: 'A', value: 'AB', url: 'href-a' },\n                      { text: 'AB', value: 'ABC', url: 'href-ab' },\n                      { text: 'ABC', value: 'ABCD', url: 'href-abc' },\n                      { text: 'ABCD', value: 'ABCDDDD', url: 'href-abcd' },\n                      { text: 'ABCDE', value: 'ABCDE', url: 'href-abcde' },\n                      { text: 'ABCDEF', value: 'ABCDEF', url: 'href-abcdef' },\n                      { text: 'ABCDEFG', value: 'ABCDEFG', url: 'href-abcdefg' },\n                    ],\n                  }}\n                />\n              </Card>\n            </div>\n          </Col>\n          <Col span={8}>\n            <Card title=\"同步转换HTML\" bordered={true}>\n              <pre>{draftToHtml(editorContent)}</pre>\n            </Card>\n          </Col>\n          <Col span={8}>\n            <Card title=\"同步转换MarkDown\" bordered={true}>\n              <pre style={{ whiteSpace: 'pre-wrap' }}>{draftToMarkdown(editorContent)}</pre>\n            </Card>\n          </Col>\n          <Col span={8}>\n            <Card title=\"同步转换JSON\" bordered={true}>\n              <pre style={{ whiteSpace: 'normal' }}>{JSON.stringify(editorContent)}</pre>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".home-editor {\\n  min-height: 300px;\\n}\\n.rdw-dropdown-wrapper a span {\\n  color: #000;\\n}\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}