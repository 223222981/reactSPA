{"version":3,"sources":["common/components/searchbar/index.js","webpack:///./src/common/components/searchbar/index.less?3a2d","common/components/searchbar/index.less","common/components/table/index.js","webpack:///./src/common/components/table/index.less?72a6","common/components/table/index.less","common/components/modalForm/index.js","common/components/modalForm/modal.js","webpack:///./src/common/components/modalForm/index.less?0c2e","common/components/modalForm/index.less","common/utils/config.js","common/actions/music.js","common/api/index.js","common/api/music.js","common/utils/ajax.js","webpack:///./src/common/pages/music/index.less?76f2","common/pages/music/index.less","common/pages/music/index.js","common/components/modalForm/form.js","common/utils/index.js"],"names":["__webpack_require__","SearchBar","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleReset","setState","fields","handleSubmit","warnings","state","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","field","value","validator","key","e","message","err","return","keys","length","Array","isArray","trim","onSubmit","disabled","_react2","default","PureComponent","_state","newValue","_this2","components","i","_loop","items","component","type","createElement","_input2","onChange","setField","target","_select2","placeholder","defaultValue","toString","multiple","style","width","map","_ref","mean","Option","_datePicker2","RangePicker","showTime","format","showToday","push","className","labelWidth","title","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","generateInputs","_button2","onClick","icon","defaultProps","hasReset","content","module","options","transform","locals","exports","DIYTable","onPageChangeHandler","currentPage","_props","header","action","data","makeColumns","changeProps","headers","columns","noIndex","dataIndex","fixed","rowIndexFixed","_extends","maxActionCount","Math","max","apply","_toConsumableArray","scroll","render","row","actions","buttons","index","color","name","hidden","_tooltip2","preventDefault","onCtrlClick","marginRight","display","fontSize","_icon2","_table2","rowSelection","dataSource","rowIndex","rowClassName","getRowClassName","loading","pagination","total","pageSize","current","showTotal","range","_index2","pageTotal","count","footer","propTypes","_propTypes2","number","Form","FormModal","modalKey","visible","onCancel","onOk","okText","_modal2","wrapClassName","_form2","showCancel","string","isRequired","bool","arrayOf","func","musicKindList","languageKindList","publishCountry","_reduxActions","_api","_utils","requestMusicList","createAction","receiveMusicList","fetchMusicList","createAjaxAction","music","musicList","ajax","fetchJSONByGet","fetchJSON","_fetchJsonp","url","params","_fetchJsonp2","query","getQuery","substring","method","_modalForm","_config","_music","_reactRedux","confirm","Music","connect","fetchTableData","dispatch","size","onSearch","searchFields","ele","tableHeader","add","modalShow","param","_message3","success","onOkEdit","modalShowEdit","onCancelEdit","tableAction","actionKey","item","label","rules","required","fieldsEdit","initialValue","author","country","language","_moment2","publishtime","tData","Component","songArray","songList","filter","find","t","parseInt","start","end","id","_searchbar2","paddingTop","y","FormItem","Item","RadioGroup","_radio2","Group","ModForm","form","validateFieldsAndScroll","values","resetFields","doCancel","_this$props","generateFormItem","_ref2","formItemLayout","hasFeedBack","getFieldDecorator","getTextField","getInputField","getInputNumberField","_inputNumber2","step","formatter","getTextAreaField","rows","getSelectField","_ref3","getRadioGroupField","_ref4","getDateField","getDateTimeField","getSwitchField","_switch2","checkedChildren","unCheckedChildren","defaultChecked","getUploadField","ref","labelCol","span","wrapperCol","offset","noBtn","htmlType","generateFormFields","ModalForm","create","ajaxFun","api","startAction","endAction","cb","respon","Promise","resolve","reject","then","checkStatus","response","json","req","res","status","catch","catchError","error","console","log","Error","statusText"],"mappings":"soBAAA,QAAAA,EAAA,uDAOAA,EAAA,UAEqBC,cACnB,SAAAA,EAAYC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAN,KACXF,IADW,OAAAG,EA+GnBM,YAAc,WACZN,EAAKO,UACHC,aAjHeR,EAqHnBS,aAAe,WAAM,IACbC,EAAaV,EAAKW,MAAlBD,SACNA,KAFmB,IAAAE,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGnB,QAAAC,EAAAC,EAAoBjB,EAAKH,MAAMW,OAA/BU,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAuC,KAA5BU,EAA4BN,EAAAO,MACrC,GAAID,EAAME,UACR,IACEF,EAAME,UAAUxB,EAAKW,MAAMH,OAAOc,EAAMG,MACxC,MAAOC,GACPhB,EAASY,EAAMG,KAAOC,EAAEC,UARX,MAAAC,GAAAf,GAAA,EAAAC,EAAAc,EAAA,aAAAhB,GAAAK,EAAAY,QAAAZ,EAAAY,SAAA,WAAAhB,EAAA,MAAAC,GAYnB,GAAIX,OAAO2B,KAAKpB,GAAUqB,OACxB/B,EAAKO,UACHG,cAAcA,UAKlB,GADAV,EAAKO,UAAWG,cACZ,aAAcV,EAAKH,MAAO,CAC5B,IAAMW,KACN,IAAK,IAAMiB,KAAOzB,EAAKW,MAAMH,OAAQ,CACnC,IAAIe,EAAQvB,EAAKW,MAAMH,OAAOiB,GACjBV,MAATQ,IAGAS,MAAMC,QAAQV,GAChBf,EAAOiB,GAAOF,GAGK,iBAAVA,IACTA,EAAQA,EAAMW,QAEF,KAAVX,IACFf,EAAOiB,GAAOF,KAGlBvB,EAAKH,MAAMsC,SAAS3B,KAxJtBR,EAAKW,OACHH,UACA4B,YACA1B,aALeV,qUADkBqC,EAAAC,QAAMC,mDAUlCjB,EAAOC,GAAO,IAAAiB,EAIjBzC,KAAKY,MAFPH,EAFmBgC,EAEnBhC,OACAE,EAHmB8B,EAGnB9B,SAEE+B,EAAWlB,EAIf,GAHIS,MAAMC,QAAQQ,IAAiC,IAApBA,EAASV,SACtCU,OAAW1B,GAETO,EAAME,UACR,IACEiB,EAAWnB,EAAME,UAAUD,GAC3Bb,EAASY,EAAMG,KAAO,GACtB,MAAOC,GACPhB,EAASY,EAAMG,KAAOC,EAAEC,QAGH,iBAAdL,EAAMG,KACfjB,EAAOc,EAAMG,IAAI,IAAMgB,GAAYA,EAAS,GAC5CjC,EAAOc,EAAMG,IAAI,IAAMgB,GAAYA,EAAS,IAE5CjC,EAAOc,EAAMG,KAAOgB,EAEtB1C,KAAKQ,UACHC,YAAaA,GACbE,cAAeA,4CAIJF,GAAQ,IAAAkC,EAAA3C,KACf4C,KACFC,EAAI,EAFaC,EAAA,SAGVvB,GACT,IAAIwB,KACAxB,EAAMwB,QACRA,EAAQxB,EAAMwB,SAGhB,IAAIC,EAAY,KAChB,OAAQzB,EAAM0B,MACZ,IAAK,QACL,QAEID,EAAaV,EAAAC,QAAAW,cAAAC,EAAAZ,SACXf,MAAOmB,EAAK/B,MAAMH,OAAOc,EAAMG,KAC/B0B,SAAU,SAAAzB,GAAA,OAAKgB,EAAKU,SAAS9B,EAAOI,EAAE2B,OAAO9B,UAGjD,MACF,IAAK,SACHwB,EAAaV,EAAAC,QAAAW,cAAAK,EAAAhB,SACXiB,YAAY,MACZhC,WAAwCR,IAAjC2B,EAAK/B,MAAMH,OAAOc,EAAMG,KAAsBH,EAAMkC,cAAgBlC,EAAMkC,aAAaC,WAAcf,EAAK/B,MAAMH,OAAOc,EAAMG,KACpIiC,SAAUpC,EAAMoC,SAChBtB,SAAUM,EAAK/B,MAAMyB,SAASd,EAAMG,KACpC0B,SAAU,SAAC5B,GACTD,EAAM6B,UAAY7B,EAAM6B,SAAS5B,GACjCmB,EAAKU,SAAS9B,EAAOC,IAEvBoC,OACEC,MAAO,SAGRd,GAASA,EAAMe,IAAI,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMxC,EAATuC,EAASvC,MAAT,OAClBc,EAAAC,QAAAW,cAAAK,EAAAhB,QAAQ0B,QAAOvC,IAAKF,EAAMkC,WAAYlC,MAAOA,EAAMkC,YAAaM,MAEpE,MACF,IAAK,cACHhB,EAAaV,EAAAC,QAAAW,cAAAgB,EAAA3B,QAAY4B,aACvBC,UAAA,EACAC,OAAO,aACP7C,OAAQmB,EAAK/B,MAAMH,OAAOc,EAAMG,IAAI,IAAKiB,EAAK/B,MAAMH,OAAOc,EAAMG,IAAI,KACrEW,SAAUM,EAAK/B,MAAMyB,SAASd,EAAMG,KACpC0B,SAAU,SAAC5B,GACTmB,EAAKU,SAAS9B,EAAOC,IAEvB8C,WAAW,IAEb,MACF,IAAK,WACHtB,EAAaV,EAAAC,QAAAW,cAAAgB,EAAA3B,SACX6B,UAAA,EACAC,OAAO,mBACP7C,MAAOmB,EAAK/B,MAAMH,OAAOc,EAAMG,KAC/BW,SAAUM,EAAK/B,MAAMyB,SAASd,EAAMG,KACpC0B,SAAU,SAAA5B,GAAA,OAASmB,EAAKU,SAAS9B,EAAOC,IACxCgC,YAAY,QACZc,WAAW,IAIjB1B,EAAW2B,KAAKjC,EAAAC,QAAAW,cAAA,OAAKxB,IAAKmB,IAAK2B,UAAU,SACvClC,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,SACblC,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,QAAQZ,OAASC,MAAOtC,EAAMkD,YAAc,MAAQlD,EAAMmD,MAAzE,KACApC,EAAAC,QAAAW,cAAA,OAAKU,OAASC,MAAOtC,EAAMsC,OAAS,KAAOW,UAAU,SAASxB,IAEhEV,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,WAAW7B,EAAK/B,MAAMD,SAASY,EAAMG,SAnEnCiD,GAAA,EAAAC,GAAA,EAAAC,OAAA7D,EAAA,IAGrB,QAAA8D,EAAAC,EAAoBtE,EAApBU,OAAAC,cAAAuD,GAAAG,EAAAC,EAAA1D,QAAAC,MAAAqD,GAAA,EAA4B,CAAA7B,EAAAgC,EAAAtD,QAHP,MAAAK,GAAA+C,GAAA,EAAAC,EAAAhD,EAAA,aAAA8C,GAAAI,EAAAjD,QAAAiD,EAAAjD,SAAA,WAAA8C,EAAA,MAAAC,GAsErB,OAAOjC,mCAmDP,OACEN,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,aACZxE,KAAKgF,eAAehF,KAAKF,MAAMW,QAChC6B,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,eACblC,EAAAC,QAAAW,cAAA+B,EAAA1C,SAAQ2C,QAASlF,KAAKO,YAAaiE,UAAU,QAAQW,KAAK,UAA1D,MACA7C,EAAAC,QAAAW,cAAA+B,EAAA1C,SAAQ2C,QAASlF,KAAKU,aAAc8D,UAAU,SAASW,KAAK,UAA5D,2BArKWtF,EA4KrBA,EAAUuF,cACRC,UAAU,yBCnLZ,IAAAC,EAAc1F,EAAQ,MACtB,iBAAA0F,QAA4CC,EAAA1C,EAASyC,EAAA,MAIrD,IAAAE,GACAC,eAHAA,GAKa7F,EAAQ,GAARA,CAAiE0F,EAAAE,GAC9EF,EAAAI,SAAAH,EAAAI,QAAAL,EAAAI,+BCZAH,EAAAI,QAA2B/F,EAAQ,GAARA,EAA6D,IAKxF2E,MAAcgB,EAAA1C,EAAS,4vDAA0vD,ikBCLjxD,QAAAjD,EAAA,QACAA,EAAA,UAMAA,EAAA,8DAEqBgG,cACnB,SAAAA,EAAY9F,gGAAOC,CAAAC,KAAA4F,GAAA,IAAA3F,mKAAAC,CAAAF,MAAA4F,EAAAzF,WAAAC,OAAAC,eAAAuF,IAAAtF,KAAAN,KACXF,IADW,OAAAG,EAmFnB4F,oBAAsB,SAACC,GACrB7F,EAAKO,UACHsF,gBAEE,aAAc7F,EAAKH,OACrBG,EAAKH,MAAMsD,SAAS0C,IAtFtB7F,EAAKW,OACHkF,YAAa,GAHE7F,qUADiBqC,EAAAC,QAAMC,+DAQrB,IAAAuD,EAKf/F,KAAKF,MAHPkG,EAFiBD,EAEjBC,OACAC,EAHiBF,EAGjBE,OACAC,EAJiBH,EAIjBG,KAGFlG,KAAKmG,YAAYH,EAAQC,EAAQC,qDAGTpG,GACxBE,KAAKoG,YAAYtG,uCAGPA,GAAO,IAEfkG,EAIElG,EAJFkG,OACAC,EAGEnG,EAHFmG,OACAH,EAEEhG,EAFFgG,YACAI,EACEpG,EADFoG,KAEFlG,KAAKQ,UAAWsF,gBAChB9F,KAAKmG,YAAYH,EAAQC,EAAQC,uCAGvBG,EAASJ,EAAQC,GAAM,IAAAvD,EAAA3C,KACjCA,KAAKsG,QAAUtG,KAAKF,MAAMyG,aACxBC,UAAW,WACX9B,MAAO,KACPb,MAAO,GACP4C,MAAOzG,KAAKF,MAAM4G,gBALa,IAAA7F,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAQjC,QAAAC,EAAAC,EAAqBmF,EAArBlF,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA8B,KAAnBmF,EAAmB/E,EAAAO,MAC5BxB,KAAKsG,QAAQ/B,KAAboC,KACKX,KAV0B,MAAAnE,GAAAf,GAAA,EAAAC,EAAAc,EAAA,aAAAhB,GAAAK,EAAAY,QAAAZ,EAAAY,SAAA,WAAAhB,EAAA,MAAAC,GAcjC,GAAIkF,EAAQ,CACV,IAAMW,EAAiBC,KAAKC,IAALC,MAAAF,2HAAAG,CAAad,EAAKpC,IAAImC,GAAQnC,IAAI,SAAAjB,GAAA,OAAMA,EAAIA,EAAEb,OAAS,MAC9EhC,KAAKsG,QAAQ/B,MACX7C,IAAK,IACLgD,MAAO,KACPb,MAAO7D,KAAKF,MAAMmH,OAAS,IAAuB,GAAjBL,EAAsB,GACvDH,MAAOzG,KAAKF,MAAM2G,MAClBS,OAAQ,SAACC,GACP,IAAMC,EAAUnB,EAAOkB,GACvB,IAAKC,EACH,OAAO9E,EAAAC,QAAAW,cAAA,YAET,IAAMmE,EAAUD,EAAQtD,IAAI,SAAAC,EAAqCuD,GAAU,IAA5CC,EAA4CxD,EAA5CwD,MAAOC,EAAqCzD,EAArCyD,KAAM9F,EAA+BqC,EAA/BrC,IAAKyD,EAA0BpB,EAA1BoB,KAAMsC,EAAoB1D,EAApB0D,OACrD,OAAQnF,EAAAC,QAAAW,cAAAwE,EAAAnF,SAASb,IAAK4F,EAAO5C,MAAO8C,GAAMlF,EAAAC,QAAAW,cAAA,KACxCxB,IAAKA,EACLwD,QAAS,SAACvD,GACRA,EAAEgG,iBACE,gBAAiBhF,EAAK7C,OACxB6C,EAAK7C,MAAM8H,YAAYlG,EAAKyF,IAGhCvD,OACE2D,QACAM,YAAa,GACbC,QAASL,EAAS,OAAS,eAC3BM,SAAU,KAEbzF,EAAAC,QAAAW,cAAA8E,EAAAzF,SAAMU,KAAMkC,QAEf,OAAQ7C,EAAAC,QAAAW,cAAA,WACLmE,wCAiBT,OACE/E,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,aACblC,EAAAC,QAAAW,cAAA+E,EAAA1F,SACE2F,aAAclI,KAAKF,MAAMoI,aACzBjB,OAAQjH,KAAKF,MAAMmH,OACnBkB,WAAYnI,KAAKF,MAAMoG,KAAKpC,IAAI,SAACqD,EAAKtE,GAAN,OAAA8D,KAAkBQ,GAAKiB,SAAUvF,EAAI,EAAGnB,IAAKmB,EAAI,MACjFyD,QAAStG,KAAKsG,QACd+B,aAAcrI,KAAKF,MAAMwI,gBACzBC,QAASvI,KAAKF,MAAMyI,QACpBC,YAAsC,IAA1BxI,KAAKF,MAAM0I,aACrBC,MAAOzI,KAAKF,MAAM2I,MAClBC,SAAU1I,KAAKF,MAAM4I,SACrBC,QAAS3I,KAAKY,MAAMkF,YACpB1C,SAAUpD,KAAK6F,oBACf+C,UAL4C,SAKlCH,EAAOI,GACf,OAAOvG,EAAAC,QAAAW,cAAA,QAAMsB,UAAWsE,EAAAvG,QAAOwG,WAAxB,IAAoCzG,EAAAC,QAAAW,cAAA,QAAMsB,UAAWsE,EAAAvG,QAAOyG,OAAQP,GAApE,OAGXQ,OAAQjJ,KAAKF,MAAMmJ,6BAhHRrD,EAuHrBA,EAASsD,WACPR,SAAUS,EAAA5G,QAAU6G,QAGtBxD,EAASR,cACPsD,SAAU,0BClIZ,IAAApD,EAAc1F,EAAQ,MACtB,iBAAA0F,QAA4CC,EAAA1C,EAASyC,EAAA,MAIrD,IAAAE,GACAC,eAHAA,GAKa7F,EAAQ,GAARA,CAAiE0F,EAAAE,GAC9EF,EAAAI,SAAAH,EAAAI,QAAAL,EAAAI,+BCZAH,EAAAI,QAA2B/F,EAAQ,GAARA,EAA6D,IAKxF2E,MAAcgB,EAAA1C,EAAS,2EAAyE,mHCLhG,QAAAjD,EAAA,WACAA,EAAA,2DAGEyJ,iBACAC,qYCLF,QAAA1J,EAAA,QACAA,EAAA,UAKAA,EAAA,6DAEqB0J,grBAAkBhH,EAAAC,QAAMC,mDAClC,IAAAuD,EASH/F,KAAKF,MAPPyJ,EAFKxD,EAELwD,SACAC,EAHKzD,EAGLyD,QACA9E,EAJKqB,EAILrB,MACAjE,EALKsF,EAKLtF,OACAgJ,EANK1D,EAML0D,SACAC,EAPK3D,EAOL2D,KACAC,EARK5D,EAQL4D,OAEF,OACErH,EAAAC,QAAAW,cAAA0G,EAAArH,SACEsH,cAAc,OACdnI,IAAK6H,EACLC,QAASA,EACT9E,MAAOA,EACP+E,SAAUA,EACVR,OAAQ,MAER3G,EAAAC,QAAAW,cAAA4G,EAAAvH,SACE9B,OAAQA,EACRiJ,KAAMA,EACND,SAAUA,EACVM,YAAA,EACAJ,OAAQA,wBAzBGL,EAgCrBA,EAAUJ,WACRK,SAAUJ,EAAA5G,QAAUyH,OAAOC,WAC3BT,QAASL,EAAA5G,QAAU2H,KAAKD,WACxBvF,MAAOyE,EAAA5G,QAAUyH,OAAOC,WACxBxJ,OAAQ0I,EAAA5G,QAAU4H,QAAQ/J,QAAQ6J,WAClCP,KAAMP,EAAA5G,QAAU6H,KAAKH,WACrBR,SAAUN,EAAA5G,QAAU6H,KAAKH,kCC3C3B,IAAA3E,EAAc1F,EAAQ,MACtB,iBAAA0F,QAA4CC,EAAA1C,EAASyC,EAAA,MAIrD,IAAAE,GACAC,eAHAA,GAKa7F,EAAQ,GAARA,CAAiE0F,EAAAE,GAC9EF,EAAAI,SAAAH,EAAAI,QAAAL,EAAAI,+BCZAH,EAAAI,QAA2B/F,EAAQ,GAARA,EAA6D,IAKxF2E,MAAcgB,EAAA1C,EAAS,8NAA4N,yFCLtOwH,kBAET7I,MAAO,EACPwC,KAAM,QAGNxC,MAAO,EACPwC,KAAM,QAGNxC,MAAO,GACPwC,KAAM,QAGNxC,MAAO,GACPwC,KAAM,OAGNxC,MAAO,GACPwC,KAAM,OAGNxC,MAAO,GACPwC,KAAM,UAGNxC,MAAO,GACPwC,KAAM,UAGNxC,MAAO,GACPwC,KAAM,UAGNxC,MAAO,GACPwC,KAAM,UAGNxC,MAAO,GACPwC,KAAM,UAIGsG,qBAET9I,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,QAIGuG,mBAET/I,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,OAGNxC,MAAO,EACPwC,KAAM,yJC7FV,IAAAwG,EAAA5K,EAAA,KACA6K,EAAA7K,EAAA,MACA8K,EAAA9K,EAAA,KAEa+K,sBAAmB,EAAAH,EAAAI,cAAa,sBAChCC,sBAAmB,EAAAL,EAAAI,cAAa,sBAChCE,kBAAiB,EAAAJ,EAAAK,kBAAiBN,EAAAO,MAAMC,UAAWN,EAAkBE,sGCNlF,IAAYG,0JAAZpL,EAAA,SAGEoL,+GCHF,IAAAN,EAAA9K,EAAA,KAEaqL,YAAYP,EAAAQ,KAAKC,eAAe,0UCA7BC,YAFhB,MAAAC,EAAAzL,EAAA,yCAEO,SAASwL,EAAUE,EAAKC,GAC7B,OAAO,EAAAC,EAAAjJ,SAAW+I,EAAX3E,KACF4E,IAIMJ,iBAAiB,SAAAG,GAAA,OAAO,SAAAG,GACnC,IAGIC,EAAW,IAEf,GAAID,EACF,IAAK,IAAIjE,KAAQiE,EACfC,KAAcA,EAAWlE,EAAzB,IAAiCiE,EAAMjE,GAAvC,IAIJ,OAAO4D,EADEE,GAAOG,EAAQC,EAASC,UAAU,EAAGD,EAAS1J,OAAS,GAAK,KATnE4J,OAAQ,gCCPZ,IAAAtG,EAAc1F,EAAQ,MACtB,iBAAA0F,QAA4CC,EAAA1C,EAASyC,EAAA,MAIrD,IAAAE,GACAC,eAHAA,GAKa7F,EAAQ,GAARA,CAAiE0F,EAAAE,GAC9EF,EAAAI,SAAAH,EAAAI,QAAAL,EAAAI,+BCZAH,EAAAI,QAA2B/F,EAAQ,GAARA,EAA6D,IAKxF2E,MAAcgB,EAAA1C,EAAS,6RAA2R,6ZCLlT,QAAAjD,EAAA,QACAA,EAAA,WACAA,EAAA,OACAA,EAAA,KACA,QAAAA,EAAA,MAEAiM,EAAAjM,EAAA,MACAkM,EAAAlM,EAAA,MACAmM,EAAAnM,EAAA,MACAoM,EAAApM,EAAA,wDACAA,EAAA,UAEOqM,oBAOcC,GALpB,EAAAF,EAAAG,SACC,SAACvL,GAAD,OACEqK,UAAWrK,EAAMqK,2BAInB,SAAAiB,EAAYpM,gGAAOC,CAAAC,KAAAkM,GAAA,IAAAjM,mKAAAC,CAAAF,MAAAkM,EAAA/L,WAAAC,OAAAC,eAAA6L,IAAA5L,KAAAN,KACXF,IADW,OAAAG,EAmBnBmM,eAAiB,SAAC5K,GAChBvB,EAAKH,MAAMuM,UAAS,EAAAN,EAAAjB,iBAClBc,OAAQ,gCACRU,KAAM,IACNrJ,KAAMzB,MAvBSvB,EA2BnBsM,SAAW,SAACC,GACVvM,EAAKO,UACHgM,aAAcA,KA7BCvM,EAiCnBuM,aAAe,WACb,QACE9H,MAAO,OACPhD,IAAK,OACLuB,KAAM,SACNQ,aAAc,EACdL,SAAU,SAAC5B,GAAD,OAAWvB,EAAKmM,eAAe5K,IACzCuB,MAAO,kBAAM+I,EAAAzB,cAAcvG,IAAI,SAAA2I,GAAA,OAC7BjL,MAAOiL,EAAIjL,MACXwC,KAAMyI,EAAIzI,WAGZU,MAAO,OACPhD,IAAK,UACLuB,KAAM,SACNQ,aAAc,KACdV,MAAO,kBAAM+I,EAAAvB,eAAezG,IAAI,SAAA2I,GAAA,OAC9BjL,MAAOiL,EAAIjL,MACXwC,KAAMyI,EAAIzI,WAGZU,MAAO,OACPhD,IAAK,WACLuB,KAAM,SACNQ,aAAc,KACdV,MAAO,kBAAM+I,EAAAxB,iBAAiBxG,IAAI,SAAA2I,GAAA,OAChCjL,MAAOiL,EAAIjL,MACXwC,KAAMyI,EAAIzI,WAGZU,MAAO,QACPhD,KAAM,QAAS,OACfuB,KAAM,iBAjEShD,EAqEnByM,YAAc,WACZ,QACElG,UAAW,QACX9B,MAAO,MACPb,MAAO,MAEP2C,UAAW,SACX9B,MAAO,KACPb,MAAO,MAEP2C,UAAW,UACX9B,MAAO,OACPb,MAAO,MAEP2C,UAAW,WACX9B,MAAO,KACPb,MAAO,MAEP2C,UAAW,cACX9B,MAAO,OACPb,MAAO,OAzFQ5D,EA6FnB0M,IAAM,WACJ1M,EAAKO,UACHoM,WAAW,KA/FI3M,EAmGnByJ,KAAO,SAACmD,GACNC,EAAAvK,QAAQwK,QAAQ,QAChB9M,EAAKwJ,YArGYxJ,EAwGnBwJ,SAAW,WACTxJ,EAAKO,UACHoM,WAAW,KA1GI3M,EA8GnB+M,SAAW,SAACH,GACV5M,EAAKO,UACHyM,eAAe,IAEjBH,EAAAvK,QAAQwK,QAAQ,SAlHC9M,EAqHnBiN,aAAe,WACbjN,EAAKO,UACHyM,eAAe,KAvHAhN,EA2HnBkN,YAAc,SAACC,EAAWC,GACN,SAAdD,EACFnN,EAAKO,UACH6M,KAAMA,EACNJ,eAAe,IAEM,WAAdG,GACTnB,GACEvH,MAAO,KACPY,QAAS,QACToE,KAAM,WACJoD,EAAAvK,QAAQwK,QAAQ,SAElBtD,SANM,gBAlIOxJ,EA6InBQ,OAAS,WACP,QACE6M,MAAO,MACPrK,KAAM,QACNuE,KAAM,QACNhC,SACE+H,QACEC,UAAU,EACV5L,QAAS,cAIb0L,MAAO,MACPrK,KAAM,QACNuE,KAAM,SACNhC,SACE+H,QACEC,UAAU,EACV5L,QAAS,aAIb0L,MAAO,OACPrK,KAAM,SACNuE,KAAM,UACNzE,MAAO,kBAAM+I,EAAAvB,eAAezG,IAAI,SAAA2I,GAAA,OAC9B/K,IAAK+K,EAAIjL,MACTA,MAAOiL,EAAIzI,SAEbwB,SACE+H,QACEC,UAAU,EACV5L,QAAS,eAIb0L,MAAO,OACPrK,KAAM,SACNuE,KAAM,WACNzE,MAAO,kBAAM+I,EAAAxB,iBAAiBxG,IAAI,SAAA2I,GAAA,OAChC/K,IAAK+K,EAAIjL,MACTA,MAAOiL,EAAIzI,SAEbwB,SACE+H,QACEC,UAAU,EACV5L,QAAS,aAIb0L,MAAO,OACPrK,KAAM,WACNuE,KAAM,cACNhC,SACE+H,QACEC,UAAU,EACV5L,QAAS,gBArME3B,EA2MnBwN,WAAa,WACX,IAAMJ,EAAOpN,EAAKW,MAAMyM,KACxB,QACEC,MAAO,MACPrK,KAAM,QACNuE,KAAM,QACNzE,MAAOsK,EAAK3I,MACZc,SACEkI,aAAcL,EAAK3I,MACnB6I,QACEC,UAAU,EACV5L,QAAS,cAIb0L,MAAO,MACPrK,KAAM,QACNuE,KAAM,SACNhC,SACEkI,aAAcL,EAAKM,OACnBJ,QACEC,UAAU,EACV5L,QAAS,aAIb0L,MAAO,OACPrK,KAAM,SACNuE,KAAM,UACNzE,MAAO,kBAAM+I,EAAAvB,eAAezG,IAAI,SAAA2I,GAAA,OAC9B/K,IAAK+K,EAAIjL,MACTA,MAAOiL,EAAIzI,SAEbwB,SACEkI,aAAcL,EAAKO,QACnBL,QACEC,UAAU,EACV5L,QAAS,eAIb0L,MAAO,OACPrK,KAAM,SACNuE,KAAM,WACNzE,MAAO,kBAAM+I,EAAAxB,iBAAiBxG,IAAI,SAAA2I,GAAA,OAChC/K,IAAK+K,EAAIjL,MACTA,MAAOiL,EAAIzI,SAEbwB,SACEkI,aAAcL,EAAKQ,SACnBN,QACEC,UAAU,EACV5L,QAAS,aAIb0L,MAAO,OACPrK,KAAM,WACNuE,KAAM,cACNhC,SACEkI,cAAc,EAAAI,EAAAvL,SAAO8K,EAAKU,aAC1BR,QACEC,UAAU,EACV5L,QAAS,gBAxQf3B,EAAKW,OACHoN,SACAX,QACA9E,SAAS,EACTqE,WAAW,EACXK,eAAe,GAPAhN,qUADcqC,EAAAC,QAAM0L,0DAarCjO,KAAKF,MAAMuM,UAAS,EAAAN,EAAAjB,iBAClBc,OAAQ,gCACRU,KAAM,IACNrJ,KAAM,sCAiQD,IACCgI,EAAcjL,KAAKF,MAAnBmL,UACFiD,KACFC,EAAWlD,EAAU/E,KACnBsG,EAAexM,KAAKY,MAAM4L,aAWhC,GAVIA,GAAgBA,EAAaoB,SAA+C,MAApCpB,EAAaoB,QAAQlK,aAC/DyK,EAAWA,EAASC,OAAO,SAAA3B,GAAA,OAAOA,EAAImB,UAAY9B,EAAAvB,eAAe8D,KAAK,SAAAC,GAAA,OAAKA,EAAE9M,QAAU+M,SAAS/B,EAAaoB,UAAU,IAAI5J,QAEzHwI,GAAgBA,EAAaqB,UAAiD,MAArCrB,EAAaqB,SAASnK,aACjEyK,EAAWA,EAASC,OAAO,SAAA3B,GAAA,OAAOA,EAAIoB,WAAa/B,EAAAxB,iBAAiB+D,KAAK,SAAAC,GAAA,OAAKA,EAAE9M,QAAU+M,SAAS/B,EAAaqB,WAAW,IAAI7J,QAE7HwI,GAAgBA,EAAagC,QAC/BL,EAAWA,EAASC,OAAO,SAAA3B,GAAA,OAAO,EAAAqB,EAAAvL,SAAOkK,EAAIsB,eAAgB,EAAAD,EAAAvL,SAAOiK,EAAagC,SAAU,EAAAV,EAAAvL,SAAOkK,EAAIsB,eAAgB,EAAAD,EAAAvL,SAAOiK,EAAaiC,QAGxIN,EACF,IAAK,IAAItL,EAAI,EAAGA,EAAIsL,EAASnM,OAAQa,IACnCqL,EAAU3J,MACRG,MAAOyJ,EAAStL,GAAG6B,MACnBiJ,OAAQQ,EAAStL,GAAG8K,OACpBC,QAASO,EAAStL,GAAG+K,QACrBC,SAAUM,EAAStL,GAAGgL,SACtBE,YAAaI,EAAStL,GAAGkL,cAI/B,OACEzL,EAAAC,QAAAW,cAAA,OAAKwL,GAAG,QACNpM,EAAAC,QAAAW,cAAAyL,EAAApM,SACEH,SAAUpC,KAAKuM,SACf9L,OAAQT,KAAKwM,iBAEflK,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,YACblC,EAAAC,QAAAW,cAAA+B,EAAA1C,SAAQ2C,QAASlF,KAAK2M,IAAKnI,UAAU,aAArC,MACAlC,EAAAC,QAAAW,cAAA,OAAKU,OAASgL,WAAY,KACxBtM,EAAAC,QAAAW,cAAA+E,EAAA1F,SACEqF,YAAa5H,KAAKmN,YAClB3E,YAAY,EACZE,SAAU,GACV1C,OAAQhG,KAAK0M,cACbxG,KAAMgI,EACN3F,QAAS0C,EAAU1C,QACnBtC,OAAQ,SAAAkB,GAAA,QACNzF,IAAK,OACL8F,KAAM,KACND,MAAO,OACPpC,KAAM,SAENzD,IAAK,SACL8F,KAAM,KACND,MAAO,MACPpC,KAAM,YAER8B,QAAU4H,EAAG,SAInBvM,EAAAC,QAAAW,cAAA2I,EAAAvC,WACEC,SAAS,MACTC,QAASxJ,KAAKY,MAAMgM,UACpBlI,MAAM,OACNjE,OAAQT,KAAKS,SACbiJ,KAAM1J,KAAK0J,KACXD,SAAUzJ,KAAKyJ,SACfE,OAAO,OAETrH,EAAAC,QAAAW,cAAA2I,EAAAvC,WACEC,SAAS,OACTC,QAASxJ,KAAKY,MAAMqM,cACpBvI,MAAM,OACNjE,OAAQT,KAAKyN,aACb/D,KAAM1J,KAAKgN,SACXvD,SAAUzJ,KAAKkN,aACfvD,OAAO,+BA1VIuC,4oBCnBrB,QAAAtM,EAAA,0NAYAA,EAAA,MAEA,IAAMkP,EAAWhF,EAAAvH,QAAKwM,KAChBC,EAAaC,EAAA1M,QAAM2M,MAEnBC,6SAEJzO,aAAe,SAACiB,GAAM,IACZyN,EAASnP,EAAKH,MAAdsP,KACRzN,GAAKA,EAAEgG,iBACPyH,EAAKC,wBAAwB,SAACxN,EAAKyN,GACjC,IAAKzN,EAAK,KACA6H,EAASzJ,EAAKH,MAAd4J,KACRA,GAAQA,EAAK4F,GACbF,EAAKG,oBAKXC,SAAW,WAAM,IAAAC,EACYxP,EAAKH,MAAxB2J,EADOgG,EACPhG,SAAU2F,EADHK,EACGL,KAClB3F,GAAYA,IACZ2F,EAAKG,iBAGPG,iBAAmB,SAAAC,GAAsE,IAAnEC,EAAmED,EAAnEC,eAAgBtC,EAAmDqC,EAAnDrC,MAAOuC,EAA4CF,EAA5CE,YAAarI,EAA+BmI,EAA/BnI,KAAMhC,EAAyBmK,EAAzBnK,QAASxC,EAAgB2M,EAAhB3M,UAC/D8M,EAAsB7P,EAAKH,MAAMsP,KAAjCU,kBACR,OAAQxN,EAAAC,QAAAW,cAAC4L,EAADnI,KACFiJ,GACJlO,IAAK8F,EACL8F,MAAOA,EACPuC,YAAaA,IAEZC,EAAkBtI,EAAMhC,EAAxBsK,CAAiC9M,OAItC+M,aAAe,SAAAxO,GAAA,OAASe,EAAAC,QAAAW,cAAA,QAAMsB,UAAU,iBAAiBjD,EAAMiE,SAAWjE,EAAMiE,QAAQkI,iBAExFsC,cAAgB,SAAAzO,GAAA,OAAUe,EAAAC,QAAAW,cAAAC,EAAAZ,QAAA,SAE1B0N,oBAAsB,SAAA1O,GAAA,OAASe,EAAAC,QAAAW,cAAAgN,EAAA3N,SAC7B4N,KAAM5O,EAAMiE,QAAQ2K,KACpBC,UAAW7O,EAAMiE,QAAQ4K,UACzBxM,OAASC,MAAO,aAGlBwM,iBAAmB,SAAA9O,GAAA,OAAUe,EAAAC,QAAAW,cAAAC,EAAAZ,SAAOU,KAAK,WAAWqN,KAAM/O,EAAMiE,QAAQ8K,MAAQ,EAAGjO,SAAUd,EAAMiE,QAAQnD,cAE3GkO,eAAiB,SAAAhP,GAAA,OAAUe,EAAAC,QAAAW,cAAAK,EAAAhB,SACzBiB,YAAY,MACZI,OACEC,MAAO,QAETxB,SAAUd,EAAMc,SAChBsB,SAAUpC,EAAMoC,UAEfpC,EAAMwB,QAAQe,IAAI,SAAA0M,GAAA,IAAG9O,EAAH8O,EAAG9O,IAAKF,EAARgP,EAAQhP,MAAR,OACjBc,EAAAC,QAAAW,cAAAK,EAAAhB,QAAQ0B,QAAOvC,IAAKA,EAAIgC,WAAYlC,MAAOE,EAAIgC,YAAalC,SAGhEiP,mBAAqB,SAAAlP,GAAA,OAASe,EAAAC,QAAAW,cAAC8L,EAAD,KAC3BzN,EAAMwB,QAAQe,IAAI,SAAA4M,GAAA,IAAGhP,EAAHgP,EAAGhP,IAAKF,EAARkP,EAAQlP,MAAR,OACjBc,EAAAC,QAAAW,cAAA+L,EAAA1M,SAAOb,IAAKA,EAAIgC,WAAYlC,MAAOE,EAAIgC,YAAalC,SAIxDmP,aAAe,SAAApP,GAAA,OAAUe,EAAAC,QAAAW,cAAAgB,EAAA3B,SACvB+B,WAAW,EACXd,YAAY,aAGdoN,iBAAmB,SAAArP,GAAA,OAChBe,EAAAC,QAAAW,cAAAgB,EAAA3B,SACC6B,UAAA,EACAC,OAAO,aACPb,YAAY,QACZc,WAAW,OAGfuM,eAAiB,SAAAtP,GAAA,OAASe,EAAAC,QAAAW,cAAA4N,EAAAvO,SACxBwO,gBAAiB,IACjBC,kBAAmB,IACnB3O,SAAUd,EAAMiE,QAAQnD,SACxB4O,eAAgB1P,EAAMiE,QAAQkI,kBAGhCwD,eAAiB,SAAA3P,GAAA,OACfe,EAAAC,QAAAW,cAAA,SACED,KAAK,OACLkO,IAAK5P,EAAMiE,QAAQ2L,IACnB9O,SAAUd,EAAMiE,QAAQnD,SACxBmF,KAAK,yVAvFWlF,EAAAC,QAAMC,6DA0FP/B,GACjB,IAAMmP,EAAiB5P,KAAKF,MAAM8P,iBAChCwB,UAAYC,KAAM,GAClBC,YAAcD,KAAM,KAEhBzO,KALmB/B,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAMzB,QAAAC,EAAAC,EAAoBT,EAApBU,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA4B,KAAjBU,EAAiBN,EAAAO,MACtBwB,EAAY,KAChB,OAAQzB,EAAM0B,MACZ,IAAK,QACHD,EAAYhD,KAAKgQ,cAAczO,GAC/B,MACF,IAAK,cACHyB,EAAYhD,KAAKiQ,oBAAoB1O,GACrC,MACF,IAAK,SACHyB,EAAYhD,KAAKuQ,eAAehP,GAChC,MACF,IAAK,aACHyB,EAAYhD,KAAKyQ,mBAAmBlP,GACpC,MACF,IAAK,OACHyB,EAAYhD,KAAK2Q,aAAapP,GAC9B,MACF,IAAK,WACHyB,EAAYhD,KAAK4Q,iBAAiBrP,GAClC,MACF,IAAK,SACHyB,EAAYhD,KAAK6Q,eAAetP,GAChC,MACF,IAAK,SACHyB,EAAYhD,KAAKkR,eAAe3P,GAChC,MACF,IAAK,WACHyB,EAAYhD,KAAKqQ,iBAAiB9O,GAClC,MACF,QACEyB,EAAYhD,KAAK+P,aAAaxO,GAGlCyB,EAAYhD,KAAK0P,kBACfE,iBACA5M,YACAsK,MAAO/L,EAAM+L,MACb9F,KAAMjG,EAAMiG,KACZhC,QAASjE,EAAMiE,QACfqK,YAA4B,UAAftO,EAAM0B,OAErBL,EAAW2B,KAAKvB,IAhDO,MAAAnB,GAAAf,GAAA,EAAAC,EAAAc,EAAA,aAAAhB,GAAAK,EAAAY,QAAAZ,EAAAY,SAAA,WAAAhB,EAAA,MAAAC,GAkDzB,IAAMsG,EAAW/E,EAAAC,QAAAW,cAAC4L,GAChBpN,IAAI,kBACJ4P,YACED,KAAM,GACNE,OAAQ,IAGVjP,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,WACZxE,KAAKF,MAAMiK,YAAczH,EAAAC,QAAAW,cAAA+B,EAAA1C,SAAQ2C,QAASlF,KAAKwP,UAAtB,OACxBxP,KAAKF,MAAM0R,OAASlP,EAAAC,QAAAW,cAAA+B,EAAA1C,SAAQU,KAAK,UAAUwO,SAAS,UAAUzR,KAAKF,MAAM6J,QAAU,QAIzF,OADA/G,EAAW2B,KAAK8C,GACTzE,mCAGA,IAELnC,EACET,KAAKF,MADPW,OAEF,OACE6B,EAAAC,QAAAW,cAAA,OAAKsB,UAAU,eACblC,EAAAC,QAAAW,cAAA4G,EAAAvH,SAAMH,SAAUpC,KAAKU,cAClBV,KAAK0R,mBAAmBjR,cAO7BkR,EAAY7H,EAAAvH,QAAKqP,QAAL9H,CAAcqF,aAEjBwC,sHC7Lf,IAAYE,0JAAZjS,EAAA,OAEasL,OAAO2G,EAEP9G,mBAAmB,SAAC+G,EAAKC,EAAaC,GAAnB,OAAiC,SAAC9L,EAAM+L,GAAP,OAC/D,SAAC5F,GACC,IAAI6F,SAEJ,OADA7F,EAAS0F,EAAY7L,IACd,IAAIiM,QAAQ,SAACC,EAASC,GAC3BP,EAAI5L,GACDoM,KAAKC,GACLD,KAAK,SAAAE,GAAA,OAAYA,EAASC,SAC1BH,KAAK,SAAAE,GACJN,EAASM,EACTnG,EAAS2F,GAAYU,IAAKxM,EAAMyM,IAAKH,OAEtCF,KAAK,WACkB,IAAlBJ,EAAOU,QACTX,GAAMA,EAAGC,KAGZW,MAAMC,QAIf,SAASA,EAAWC,GAClBC,QAAQC,IAAIF,GAGd,SAASR,EAAYC,GACnB,GAAKA,EAASI,QAAU,KAAOJ,EAASI,OAAS,KACxB,MAApBJ,EAASI,QAAkBJ,EAASC,KACvC,OAAOD,EAET,IAAMO,EAAQ,IAAIG,MAAMV,EAASW,YAEjC,MADAJ,EAAMP,SAAWA,EACXO","file":"static/js/9.176a5d0d.chunk.js","sourcesContent":["import React from 'react'\nimport {\n  Input,\n  Button,\n  Select,\n  DatePicker,\n} from 'antd'\nimport './index.less'\n\nexport default class SearchBar extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      fields: {},\n      disabled: {},\n      warnings: {},\n    }\n  }\n\n  setField(field, value) {\n    const {\n      fields,\n      warnings,\n    } = this.state\n    let newValue = value\n    if (Array.isArray(newValue) && newValue.length === 0) {\n      newValue = undefined\n    }\n    if (field.validator) {\n      try {\n        newValue = field.validator(value)\n        warnings[field.key] = ''\n      } catch (e) {\n        warnings[field.key] = e.message\n      }\n    }\n    if (typeof field.key !== 'string') {\n      fields[field.key[0]] = newValue && newValue[0]\n      fields[field.key[1]] = newValue && newValue[1]\n    } else {\n      fields[field.key] = newValue\n    }\n    this.setState({\n      fields: { ...fields }, // 这里配合 PureComponent 做的优化\n      warnings: { ...warnings }\n    })\n  }\n\n  generateInputs(fields) {\n    const components = []\n    let i = 0\n    for (const field of fields) {\n      let items = []\n      if (field.items) {\n        items = field.items()\n      }\n\n      let component = null\n      switch (field.type) {\n        case 'input':\n        default:\n          {\n            component = (<Input\n              value={this.state.fields[field.key]}\n              onChange={e => this.setField(field, e.target.value)}\n            />)\n          }\n          break\n        case 'select':\n          component = (<Select\n            placeholder=\"请选择\"\n            value={this.state.fields[field.key] === undefined ? (field.defaultValue && field.defaultValue.toString()) : this.state.fields[field.key]}\n            multiple={field.multiple}\n            disabled={this.state.disabled[field.key]}\n            onChange={(value) => {\n              field.onChange && field.onChange(value)\n              this.setField(field, value)\n            }}\n            style={{\n              width: '100%',\n            }}\n          >\n            {items && items.map(({ mean, value }) =>\n              <Select.Option key={value.toString()} value={value.toString()}>{mean}</Select.Option>)}\n          </Select>)\n          break\n        case 'rangePicker':\n          component = (<DatePicker.RangePicker\n            showTime\n            format=\"YYYY-MM-DD\"\n            value={[this.state.fields[field.key[0]], this.state.fields[field.key[1]]]}\n            disabled={this.state.disabled[field.key]}\n            onChange={(value) => {\n              this.setField(field, value)\n            }}\n            showToday={false}\n          />)\n          break\n        case 'datetime':\n          component = (<DatePicker\n            showTime\n            format=\"YYYY-MM-DD HH:mm\"\n            value={this.state.fields[field.key]}\n            disabled={this.state.disabled[field.key]}\n            onChange={value => this.setField(field, value)}\n            placeholder=\"请选择时间\"\n            showToday={false}\n          />)\n          break\n      }\n      components.push(<div key={i++} className=\"field\">\n        <div className=\"input\">\n          <div className=\"title\" style={{ width: field.labelWidth || 100 }}>{field.title}:</div>\n          <div style={{ width: field.width || 130 }} className=\"input\">{component}</div>\n        </div>\n        <div className=\"warning\">{this.state.warnings[field.key]}</div>\n      </div>)\n    }\n    return components\n  }\n\n  handleReset = () => {\n    this.setState({\n      fields: {},\n    })\n  }\n\n  handleSubmit = () => {\n    let { warnings } = this.state\n    warnings = {}\n    for (const field of this.props.fields) {\n      if (field.validator) {\n        try {\n          field.validator(this.state.fields[field.key])\n        } catch (e) {\n          warnings[field.key] = e.message\n        }\n      }\n    }\n    if (Object.keys(warnings).length) {\n      this.setState({\n        warnings: {...warnings}\n      })\n      return\n    }\n    this.setState({ warnings: {} })\n    if ('onSubmit' in this.props) {\n      const fields = {}\n      for (const key in this.state.fields) {\n        let value = this.state.fields[key]\n        if (value == undefined) {\n          continue\n        }\n        if (Array.isArray(value)) {\n          fields[key] = value\n          continue\n        }\n        if (typeof value === 'string') {\n          value = value.trim()\n        }\n        if (value !== '') {\n          fields[key] = value\n        }\n      }\n      this.props.onSubmit(fields)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"searchbar\">\n        {this.generateInputs(this.props.fields)}\n        <div className=\"buttonGroup\">\n          <Button onClick={this.handleReset} className=\"reset\" icon=\"reload\">重置</Button>\n          <Button onClick={this.handleSubmit} className=\"search\" icon=\"search\">搜索</Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nSearchBar.defaultProps = {\n  hasReset: true,\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".searchbar {\\n  padding: 10px 15px;\\n  background-color: #fafafa;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-direction: row;\\n      flex-direction: row;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\n.searchbar .field {\\n  height: 47px;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.searchbar .field .input {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.searchbar .field .input .title {\\n  text-align: right;\\n  width: 100px;\\n  font-size: 14px;\\n  margin-right: 5px;\\n}\\n.searchbar .field .input .input {\\n  height: 30px;\\n}\\n.searchbar .field .warning {\\n  color: red;\\n  text-align: center;\\n  margin-left: 105px;\\n}\\n.searchbar .buttonGroup {\\n  -ms-flex-item-align: center;\\n      align-self: center;\\n  margin-left: 24px;\\n  height: 47px;\\n}\\n.searchbar .buttonGroup button {\\n  margin-right: 23px;\\n  height: 30px;\\n  border: none;\\n  padding: 0;\\n}\\n.searchbar .buttonGroup .reset {\\n  width: 68px;\\n  height: 30px;\\n  border-radius: 2px;\\n  border: solid 1px #fe751a;\\n  font-size: 14px;\\n  line-height: 1.0;\\n  text-align: center;\\n  color: #fe751a;\\n}\\n.searchbar .buttonGroup .reset:hover {\\n  width: 68px;\\n  height: 30px;\\n  border-radius: 2px;\\n  border: solid 1px #fe751a;\\n  font-size: 14px;\\n  line-height: 1.0;\\n  text-align: center;\\n  color: #fe751a;\\n  opacity: 0.3;\\n}\\n.searchbar .buttonGroup .search {\\n  width: 68px;\\n  height: 30px;\\n  border-radius: 2px;\\n  border-color: #fe751a;\\n  background-color: #fe751a;\\n  color: #fff;\\n  font-size: 14px;\\n  line-height: 1.0;\\n  text-align: center;\\n}\\n.searchbar .buttonGroup .search:hover {\\n  width: 68px;\\n  height: 30px;\\n  border-radius: 2px;\\n  border-color: #fe751a;\\n  background-color: #fe751a;\\n  opacity: 0.3;\\n}\\n\", \"\"]);\n\n// exports\n","import React from 'react'\nimport propTypes from 'prop-types'\nimport {\n  Table,\n  Icon,\n  Tooltip,\n} from 'antd'\nimport styles from './index.less'\n\nexport default class DIYTable extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentPage: 1,\n    }\n  }\n\n  componentWillMount() {\n    const {\n      header,\n      action,\n      data,\n    } = this.props\n\n    this.makeColumns(header, action, data)\n  }\n\n  componentWillReceiveProps(props) {\n    this.changeProps(props)\n  }\n\n  changeProps(props) {\n    const {\n      header,\n      action,\n      currentPage,\n      data,\n    } = props\n    this.setState({ currentPage })\n    this.makeColumns(header, action, data)\n  }\n\n  makeColumns(headers, action, data) {\n    this.columns = this.props.noIndex ? [] : [{\n      dataIndex: 'rowIndex',\n      title: '序号',\n      width: 70,\n      fixed: this.props.rowIndexFixed,\n    }]\n\n    for (const header of headers) {\n      this.columns.push({\n        ...header,\n      })\n    }\n\n    if (action) {\n      const maxActionCount = Math.max(...(data.map(action).map(i => (i ? i.length : 0))))  // the number of action\n      this.columns.push({\n        key: 'x',\n        title: '操作',\n        width: this.props.scroll ? 230 : maxActionCount * 50 + 10,\n        fixed: this.props.fixed,\n        render: (row) => {\n          const actions = action(row)\n          if (!actions) {\n            return <div />\n          }\n          const buttons = actions.map(({ color, name, key, icon, hidden }, index) => {\n            return (<Tooltip key={index} title={name}><a\n              key={key}\n              onClick={(e) => {\n                e.preventDefault()\n                if ('onCtrlClick' in this.props) {\n                  this.props.onCtrlClick(key, row)\n                }\n              }}\n              style={{\n                color,\n                marginRight: 12,\n                display: hidden ? 'none' : 'inline-block',\n                fontSize: 14,\n              }}\n            ><Icon type={icon} /></a></Tooltip>)\n          })\n          return (<div>\n            {buttons}\n          </div>)\n        },\n      })\n    }\n  }\n\n  onPageChangeHandler = (currentPage) => {\n    this.setState({\n      currentPage,\n    })\n    if ('onChange' in this.props) {\n      this.props.onChange(currentPage)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"myy-table\">\n        <Table\n          rowSelection={this.props.rowSelection}\n          scroll={this.props.scroll}\n          dataSource={this.props.data.map((row, i) => ({ ...row, rowIndex: i + 1, key: i + 1 }))}\n          columns={this.columns}\n          rowClassName={this.props.getRowClassName}\n          loading={this.props.loading}\n          pagination={this.props.pagination !== false ? {\n            total: this.props.total,\n            pageSize: this.props.pageSize,\n            current: this.state.currentPage,\n            onChange: this.onPageChangeHandler,\n            showTotal(total, range) {\n              return <span className={styles.pageTotal}>共<span className={styles.count}>{total}</span>条</span>\n            },\n          } : false}\n          footer={this.props.footer}\n        />\n      </div>\n    )\n  }\n}\n\nDIYTable.propTypes = {\n  pageSize: propTypes.number,\n}\n\nDIYTable.defaultProps = {\n  pageSize: 20,\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".myy-table .pageTotal .count {\\n  margin: 0 4px;\\n  color: #fe751a;\\n}\\n\", \"\"]);\n\n// exports\n","import FormModal from './modal'\nimport Form from './form'\n\nexport {\n  Form,\n  FormModal,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  Modal,\n} from 'antd'\n\nimport Form from './form'\n\nexport default class FormModal extends React.PureComponent {\n  render() {\n    const {\n      modalKey,\n      visible,\n      title,\n      fields,\n      onCancel,\n      onOk,\n      okText,\n    } = this.props\n    return (\n      <Modal\n        wrapClassName=\"form\"\n        key={modalKey}\n        visible={visible}\n        title={title}\n        onCancel={onCancel}\n        footer={null}\n      >\n        <Form\n          fields={fields}\n          onOk={onOk}\n          onCancel={onCancel}\n          showCancel\n          okText={okText}\n        />\n      </Modal>\n    )\n  }\n}\n\nFormModal.propTypes = {\n  modalKey: PropTypes.string.isRequired,\n  visible: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  fields: PropTypes.arrayOf(Object).isRequired,\n  onOk: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".buttons {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: end;\\n      justify-content: flex-end;\\n}\\n.buttons button {\\n  margin-left: 20px;\\n}\\n.formWrapper .ant-form-item label {\\n  font-size: 14px;\\n}\\n\", \"\"]);\n\n// exports\n","export const musicKindList = [\n  {\n    value: 2,\n    mean: '热歌榜',\n  },\n  {\n    value: 1,\n    mean: '新歌榜',\n  },\n  {\n    value: 11,\n    mean: '摇滚榜',\n  },\n  {\n    value: 12,\n    mean: '爵士',\n  },\n  {\n    value: 16,\n    mean: '流行',\n  },\n  {\n    value: 21,\n    mean: '欧美金曲榜',\n  },\n  {\n    value: 22,\n    mean: '经典老歌榜',\n  },\n  {\n    value: 23,\n    mean: '情歌对唱榜',\n  },\n  {\n    value: 24,\n    mean: '情歌对唱榜',\n  },\n  {\n    value: 25,\n    mean: '情歌对唱榜',\n  }\n]\n\nexport const languageKindList = [\n  {\n    value: 0,\n    mean: '全部',\n  },\n  {\n    value: 1,\n    mean: '国语',\n  },\n  {\n    value: 2,\n    mean: '英语',\n  },\n  {\n    value: 3,\n    mean: '粤语',\n  },\n  {\n    value: 4,\n    mean: '韩语',\n  },\n  {\n    value: 5,\n    mean: '闽南语',\n  }\n]\n\nexport const publishCountry = [\n  {\n    value: 0,\n    mean: '全部',\n  },\n  {\n    value: 1,\n    mean: '内地',\n  },\n  {\n    value: 2,\n    mean: '欧美',\n  },\n  {\n    value: 3,\n    mean: '港台',\n  },\n  {\n    value: 4,\n    mean: '韩国',\n  },\n  {\n    value: 5,\n    mean: '其他',\n  }\n]","import { createAction } from 'redux-actions'\nimport { music } from 'api'\nimport { createAjaxAction } from 'utils'\n\nexport const requestMusicList = createAction('request music list')\nexport const receiveMusicList = createAction('receive music list')\nexport const fetchMusicList = createAjaxAction(music.musicList, requestMusicList, receiveMusicList)\n","import * as music from './music'\n\nexport {\n  music,\n}\n","import { ajax } from 'utils'\n\nexport const musicList = ajax.fetchJSONByGet('http://tingapi.ting.baidu.com/v1/restserver/ting')","import fetchJsonp from 'fetch-jsonp'\n\nexport function fetchJSON(url, params) {\n  return fetchJsonp(url, {\n    ...params,\n  })\n}\n\nexport const fetchJSONByGet = url => query => {\n  const params = {\n    method: 'GET',\n  }\n  let getQuery = '?'\n  let getUrl = ''\n  if (query) {\n    for (let name in query) {\n      getQuery = `${getQuery}${name}=${query[name]}&`\n    }\n  }\n  getUrl = url + (query ? getQuery.substring(0, getQuery.length - 1) : '')\n  return fetchJSON(getUrl, params)\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js??ref--4-oneOf-3-3!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tableBox {\\n  position: relative;\\n  margin-top: 10px;\\n}\\n.tableBox .addButton {\\n  position: absolute;\\n  background: #169bd5;\\n  top: 5px;\\n  right: 12px;\\n  color: #fff;\\n  border: #169bd5;\\n}\\n.ant-btn:focus {\\n  background: #169bd5 !important;\\n  color: #fff !important;\\n}\\n\", \"\"]);\n\n// exports\n","import React from 'react'\nimport SearchBar from 'components/searchbar'\nimport Table from 'components/table'\nimport 'whatwg-fetch'\nimport moment from 'moment'\nimport { Button, message, Modal } from 'antd'\nimport { FormModal } from 'components/modalForm'\nimport { musicKindList, languageKindList, publishCountry } from '../../utils/config'\nimport { fetchMusicList } from 'actions/music'\nimport { connect } from 'react-redux'\nimport './index.less'\n\nconst {confirm} = Modal\n\n@connect(\n  (state) => ({\n    musicList: state.musicList,\n  })\n)\nexport default class Music extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      tData: [],\n      item: {},\n      loading: true,\n      modalShow: false,\n      modalShowEdit: false,\n    }\n  }\n\n  componentDidMount() {\n    this.props.dispatch(fetchMusicList({  // 默认是热歌版\n      method: 'baidu.ting.billboard.billList',\n      size: 100,\n      type: 2,\n    }))\n  }\n\n  fetchTableData = (value) => {\n    this.props.dispatch(fetchMusicList({\n      method: 'baidu.ting.billboard.billList',\n      size: 100,\n      type: value,\n    }))\n  }\n\n  onSearch = (searchFields) => {\n    this.setState({ // 这端代码只是起模拟筛选作用\n      searchFields: searchFields,\n    })\n  }\n\n  searchFields = () => {\n    return [{\n      title: '歌曲类型',\n      key: 'type',\n      type: 'select',\n      defaultValue: 2,\n      onChange: (value) => this.fetchTableData(value),\n      items: () => musicKindList.map(ele => ({\n        value: ele.value,\n        mean: ele.mean\n      })),\n    }, {\n      title: '发行国家',\n      key: 'country',\n      type: 'select',\n      defaultValue: '全部',\n      items: () => publishCountry.map(ele => ({\n        value: ele.value,\n        mean: ele.mean\n      })),\n    }, {\n      title: '歌曲语种',\n      key: 'language',\n      type: 'select',\n      defaultValue: '全部',\n      items: () => languageKindList.map(ele => ({\n        value: ele.value,\n        mean: ele.mean\n      })),\n    }, {\n      title: '发行时间段',\n      key: ['start', 'end'],\n      type: 'rangePicker',\n    }]\n  }\n\n  tableHeader = () => {\n    return [{\n      dataIndex: 'title',\n      title: '歌曲名',\n      width: 200,\n    }, {\n      dataIndex: 'author',\n      title: '歌手',\n      width: 200,\n    }, {\n      dataIndex: 'country',\n      title: '发行国家',\n      width: 200,\n    }, {\n      dataIndex: 'language',\n      title: '语种',\n      width: 200,\n    }, {\n      dataIndex: 'publishtime',\n      title: '发行时间',\n      width: 200,\n    },]\n  }\n\n  add = () => {\n    this.setState({\n      modalShow: true\n    })\n  }\n\n  onOk = (param) => {\n    message.success('添加成功')\n    this.onCancel()\n  }\n\n  onCancel = () => {\n    this.setState({\n      modalShow: false\n    })\n  }\n\n  onOkEdit = (param) => {\n    this.setState({\n      modalShowEdit: false\n    })\n    message.success('编辑成功')\n  }\n\n  onCancelEdit = () => {\n    this.setState({\n      modalShowEdit: false\n    })\n  }\n\n  tableAction = (actionKey, item) => {\n    if (actionKey === 'edit') {\n      this.setState({\n        item: item,\n        modalShowEdit: true\n      })\n    } else if (actionKey === 'delete') {\n      confirm({\n        title: '提示',\n        content: '确定删除吗',\n        onOk: () => {\n          message.success('删除成功')\n        },\n        onCancel() { }\n      })\n    }\n  }\n\n  fields = () => {\n    return [{\n      label: '歌曲名',\n      type: 'input',\n      name: 'title',\n      options: {\n        rules: [{\n          required: true,\n          message: '歌曲名必输!',\n        }]\n      }\n    }, {\n      label: '歌手名',\n      type: 'input',\n      name: 'author',\n      options: {\n        rules: [{\n          required: true,\n          message: '歌手必输!',\n        }]\n      }\n    }, {\n      label: '发行国家',\n      type: 'select',\n      name: 'country',\n      items: () => publishCountry.map(ele => ({\n        key: ele.value,\n        value: ele.mean\n      })),\n      options: {\n        rules: [{\n          required: true,\n          message: '发行国家必输!',\n        }]\n      }\n    }, {\n      label: '歌曲语种',\n      type: 'select',\n      name: 'language',\n      items: () => languageKindList.map(ele => ({\n        key: ele.value,\n        value: ele.mean\n      })),\n      options: {\n        rules: [{\n          required: true,\n          message: '语种必输!',\n        }]\n      }\n    }, {\n      label: '发行时间',\n      type: 'datetime',\n      name: 'publishTime',\n      options: {\n        rules: [{\n          required: true,\n          message: '发行时间必输!',\n        }]\n      }\n    }]\n  }\n\n  fieldsEdit = () => {\n    const item = this.state.item\n    return [{\n      label: '歌曲名',\n      type: 'input',\n      name: 'title',\n      items: item.title,\n      options: {\n        initialValue: item.title,\n        rules: [{\n          required: true,\n          message: '歌曲名必输!',\n        }]\n      }\n    }, {\n      label: '歌手名',\n      type: 'input',\n      name: 'author',\n      options: {\n        initialValue: item.author,\n        rules: [{\n          required: true,\n          message: '歌手必输!',\n        }]\n      }\n    }, {\n      label: '发行国家',\n      type: 'select',\n      name: 'country',\n      items: () => publishCountry.map(ele => ({\n        key: ele.value,\n        value: ele.mean\n      })),\n      options: {\n        initialValue: item.country,\n        rules: [{\n          required: true,\n          message: '发行国家必输!',\n        }]\n      }\n    }, {\n      label: '歌曲语种',\n      type: 'select',\n      name: 'language',\n      items: () => languageKindList.map(ele => ({\n        key: ele.value,\n        value: ele.mean\n      })),\n      options: {\n        initialValue: item.language,\n        rules: [{\n          required: true,\n          message: '语种必输!',\n        }]\n      }\n    }, {\n      label: '发行时间',\n      type: 'datetime',\n      name: 'publishTime',\n      options: {\n        initialValue: moment(item.publishtime),\n        rules: [{\n          required: true,\n          message: '发行时间必输!',\n        }]\n      }\n    }]\n  }\n\n  render() {\n    const { musicList } = this.props\n    const songArray = []\n    let songList = musicList.data\n    const searchFields = this.state.searchFields\n    if (searchFields && searchFields.country && searchFields.country.toString() !== '0') { // 发行国家搜索\n      songList = songList.filter(ele => ele.country === publishCountry.find(t => t.value === parseInt(searchFields.country), 10).mean)\n    }\n    if (searchFields && searchFields.language && searchFields.language.toString() !== '0') { // 歌曲语种搜索\n      songList = songList.filter(ele => ele.language === languageKindList.find(t => t.value === parseInt(searchFields.language), 10).mean)\n    }\n    if (searchFields && searchFields.start) { // 发行时间段收索\n      songList = songList.filter(ele => moment(ele.publishtime) >= moment(searchFields.start) && moment(ele.publishtime) <= moment(searchFields.end))\n    }\n\n    if (songList) {\n      for (let i = 0; i < songList.length; i++) {\n        songArray.push({\n          title: songList[i].title,\n          author: songList[i].author,\n          country: songList[i].country,\n          language: songList[i].language,\n          publishtime: songList[i].publishtime,\n        })\n      }\n    }\n    return (\n      <div id=\"wrap\">\n        <SearchBar\n          onSubmit={this.onSearch}\n          fields={this.searchFields()}\n        />\n        <div className=\"tableBox\">\n          <Button onClick={this.add} className=\"addButton\">添加</Button>\n          <div style={{ paddingTop: 43 }}>\n            <Table\n              onCtrlClick={this.tableAction}\n              pagination={true}\n              pageSize={10}\n              header={this.tableHeader()}\n              data={songArray}\n              loading={musicList.loading}\n              action={row => [{\n                key: 'edit',\n                name: '修改',\n                color: 'blue',\n                icon: 'edit',\n              }, {\n                key: 'delete',\n                name: '删除',\n                color: 'red',\n                icon: 'delete'\n              }]}\n              scroll={{ y: 385 }}\n            />\n          </div>\n        </div>\n        <FormModal\n          modalKey=\"add\"\n          visible={this.state.modalShow}\n          title=\"添加音乐\"\n          fields={this.fields()}\n          onOk={this.onOk}\n          onCancel={this.onCancel}\n          okText=\"保存\"\n        />\n        <FormModal\n          modalKey=\"Edit\"\n          visible={this.state.modalShowEdit}\n          title=\"修改音乐\"\n          fields={this.fieldsEdit()}\n          onOk={this.onOkEdit}\n          onCancel={this.onCancelEdit}\n          okText=\"保存\"\n        />\n      </div>\n    )\n  }\n}","import React from 'react'\nimport {\n  Button,\n  Input,\n  InputNumber,\n  Select,\n  DatePicker,\n  Form,\n  Radio,\n  Switch,\n} from 'antd'\n\nimport './index.less'\n\nconst FormItem = Form.Item\nconst RadioGroup = Radio.Group\n\nclass ModForm extends React.PureComponent {\n\n  handleSubmit = (e) => {\n    const { form } = this.props\n    e && e.preventDefault()\n    form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        const { onOk } = this.props\n        onOk && onOk(values)\n        form.resetFields()\n      }\n    })\n  }\n\n  doCancel = () => {\n    const { onCancel, form } = this.props\n    onCancel && onCancel()\n    form.resetFields()\n  }\n\n  generateFormItem = ({ formItemLayout, label, hasFeedBack, name, options, component }) => {\n    const { getFieldDecorator } = this.props.form\n    return (<FormItem\n      {...formItemLayout}\n      key={name}\n      label={label}\n      hasFeedBack={hasFeedBack}\n    >\n      {getFieldDecorator(name, options)(component)}\n    </FormItem>)\n  }\n\n  getTextField = field => <span className=\"ant-form-text\">{field.options && field.options.initialValue}</span>\n\n  getInputField = field => (<Input />)\n\n  getInputNumberField = field => <InputNumber\n    step={field.options.step}\n    formatter={field.options.formatter}\n    style={{ width: '100%' }}\n  />\n\n  getTextAreaField = field => (<Input type=\"textarea\" rows={field.options.rows || 4} disabled={field.options.disabled} />)\n\n  getSelectField = field => (<Select\n    placeholder=\"请选择\"\n    style={{\n      width: '100%',\n    }}\n    disabled={field.disabled}\n    multiple={field.multiple}\n  >\n    {field.items().map(({ key, value }) =>\n      <Select.Option key={key.toString()} value={key.toString()}>{value}</Select.Option>)}\n  </Select>)\n\n  getRadioGroupField = field => <RadioGroup>\n    {field.items().map(({ key, value }) =>\n      <Radio key={key.toString()} value={key.toString()}>{value}</Radio>\n    )}\n  </RadioGroup>\n\n  getDateField = field => (<DatePicker\n    showToday={false}\n    placeholder=\"请选择日期\"\n  />)\n\n  getDateTimeField = field =>\n    (<DatePicker\n      showTime\n      format=\"YYYY-MM-DD\"\n      placeholder=\"请选择时间\"\n      showToday={false}\n    />)\n\n  getSwitchField = field => <Switch\n    checkedChildren={'开'}\n    unCheckedChildren={'关'}\n    disabled={field.options.disabled}\n    defaultChecked={field.options.initialValue}\n  />\n\n  getUploadField = field =>\n    <input\n      type=\"file\"\n      ref={field.options.ref}\n      disabled={field.options.disabled}\n      name=\"patchFile\"\n    />\n\n  generateFormFields(fields) {\n    const formItemLayout = this.props.formItemLayout || {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 14 }\n    }\n    const components = []\n    for (const field of fields) {\n      let component = null\n      switch (field.type) {\n        case 'input':\n          component = this.getInputField(field)\n          break\n        case 'inputNumber':\n          component = this.getInputNumberField(field)\n          break\n        case 'select':\n          component = this.getSelectField(field)\n          break\n        case 'radioGroup':\n          component = this.getRadioGroupField(field)\n          break\n        case 'date':\n          component = this.getDateField(field)\n          break\n        case 'datetime':\n          component = this.getDateTimeField(field)\n          break\n        case 'switch':\n          component = this.getSwitchField(field)\n          break\n        case 'upload':\n          component = this.getUploadField(field)\n          break\n        case 'textarea':\n          component = this.getTextAreaField(field)\n          break\n        default:\n          component = this.getTextField(field)\n          break\n      }\n      component = this.generateFormItem({\n        formItemLayout,\n        component,\n        label: field.label,\n        name: field.name,\n        options: field.options,\n        hasFeedBack: field.type === 'input',\n      })\n      components.push(component)\n    }\n    const buttons = (<FormItem\n      key=\"control-buttons\"\n      wrapperCol={{\n        span: 14,\n        offset: 6,\n      }}\n    >\n      <div className=\"buttons\">\n        {this.props.showCancel && <Button onClick={this.doCancel} >取消</Button>}\n        {!this.props.noBtn && <Button type=\"primary\" htmlType=\"submit\">{this.props.okText || '确定'}</Button>}\n      </div>\n    </FormItem>)\n    components.push(buttons)\n    return components\n  }\n\n  render() {\n    const {\n      fields,\n    } = this.props\n    return (\n      <div className=\"formWrapper\">\n        <Form onSubmit={this.handleSubmit}>\n          {this.generateFormFields(fields)}\n        </Form>\n      </div>\n    )\n  }\n}\n\nconst ModalForm = Form.create()(ModForm)\n\nexport default ModalForm\n","import * as ajaxFun from './ajax'\n\nexport const ajax = ajaxFun\n\nexport const createAjaxAction = (api, startAction, endAction) => (data, cb) =>\n  (dispatch) => {\n    let respon\n    dispatch(startAction(data))\n    return new Promise((resolve, reject) => {\n      api(data)\n        .then(checkStatus)\n        .then(response => response.json())\n        .then(response => {\n          respon = response\n          dispatch(endAction({ req: data, res: response }))\n        })\n        .then(() => {\n          if (respon.status === 1) {\n            cb && cb(respon)\n          }\n        })\n        .catch(catchError)\n    })\n  }\n\nfunction catchError(error) {\n  console.log(error)\n}\n\nfunction checkStatus(response) {\n  if ((response.status >= 100 && response.status < 300)\n    || response.status === 500 || response.json) {\n    return response\n  }\n  const error = new Error(response.statusText)\n  error.response = response\n  throw error\n}\n"],"sourceRoot":""}